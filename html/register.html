<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital circus</title>
    <link rel="stylesheet" href="../css/circo.css">
    <link href="https://fonts.googleapis.com/css2?family=Creepster&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/loader.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@1.28.5/dist/umd/supabase.min.js"></script>
</head>

<body>
    <div id="loader" class="loader"></div>
    <div id="content" style="display: none;">
        <header class="header">
            <img class="target-image" src="../img/cain.png" alt="Imagen objetivo" data-color-class="color-red">
            <h2 class="titulo">Bienvenido al Circo digital</h2>
            <img class="target-image" src="../img/bobble.png" alt="Imagen objetivo" data-color-class="color-red">
            <div class="seciones" id="seciones">
                <!-- Contenido din치mico basado en el estado de la sesi칩n -->
            </div>
        </header>
        <script>
            // Reemplaza estos valores con tus credenciales de Supabase
            const supabaseUrl = 'https://wxilsdxcjhakdxnjhgtu.supabase.co';
            const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind4aWxzZHhjamhha2R4bmpoZ3R1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzc2ODkzMzEsImV4cCI6MjA1MzI2NTMzMX0.k8GBWY0k5ZrE3FERX8KHjbn9lAe7yRK2rXiNmTsca18';
            const supabase = supabase.createClient(supabaseUrl, supabaseKey);

            document.addEventListener('DOMContentLoaded', async function () {
                const session = supabase.auth.session();
                const seciones = document.getElementById('seciones');
                if (session) {
                    seciones.innerHTML = `
                        <a href="#" class="boton" onclick="logout()">Cerrar sesi칩n</a>
                        <a href="perfil.html" class="boton">Perfil</a>
                    `;
                } else {
                    seciones.innerHTML = `
                        <a href="login.html" class="boton">Iniciar sesi칩n</a>
                        <a href="register.html" class="boton">Registrarse</a>
                    `;
                }
                document.getElementById('loader').style.display = 'none';
                document.getElementById('content').style.display = 'block';
            });

            function logout() {
                supabase.auth.signOut().then(() => {
                    localStorage.setItem('loggedIn', 'false');
                    location.reload();
                });
            }
        </script>
        <div class="botones">
            <a href="Circo.html">circo</a>
            <a href="mundoCaramelo.html">mundo caramelo</a>
            <a href="#">mansion del terror</a>
            <a href="#">restaurante</a>
        </div>
        <div class="pomni">
            <div class="presentacion">
                <h1>Pomni</h1>
                <img class="target-image zoom" src="../img/pomni.png" alt="Imagen objetivo">
            </div>
        </div>
        <div class="raghata">
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Et dicta repudiandae accusamus voluptatem
                necessitatibus, cupiditate vitae laboriosam dolore ipsam reiciendis vero voluptates pariatur hic
                quibusdam recusandae temporibus. Consequuntur, corrupti voluptatibus.</p>
            <div class="presentacion">
                <h1>ragatha</h1>
                <img class="target-image zoom" src="../img/ragatha.png" alt="Imagen objetivo">
            </div>
        </div>
        <div class="jax">
            <div class="presentacion">
                <h1>Jax</h1>
                <img class="target-image zoom" src="../img/jax.png" alt="Imagen objetivo">
            </div>
        </div>
    </div>
    <script src="../js/loader.js"></script>
    <script src="../js/circo.js"></script>
</body>

</html>